---
title: Install Third Party Extensions
---

Postgres has a rich ecosystem of extensions which enable a variety of specialized workloads. ParadeDB itself is built via two Postgres extensions,
`pg_search` and `pg_analytics`.

To keep the size of the ParadeDB image small only the ParadeDB extensions and a limited set of necessary third party extensions are included in the
image. It is, however, possible to install arbitrary third party extensions in the ParadeDB image.

## Default Extensions

ParadeDB ships with the following Postgres extensions installed by default:

- pg_search
- pg_analytics
- pgvector
- pg_ivm
- pg_cron

Note that the pg_cron installation is configured on the default `postgres` database and cannot be changed.

Users do not need to install these extensions manually nor run `CREATE EXTENSION` manually to enable them. They will be available by default in any
new database created in ParadeDB.

## Installing Third Party Extensions

At a high-level, installing a third party extension requires:

- Locating its source code or prebuilt binaries.
- Compiling from source or downloading the prebuilt binaries inside the ParadeDB image.
- Installing the extension binary and any dependencies inside the ParadeDB image.
- Adding the extension to `shared_preload_libraries` in `postgresql.conf`, if applicable.
- Creating the extension in a database inside the ParadeDB image to activate it.

We recommend installing prebuilt binaries whenever available to keep the image size small. Most popular
Postgres extensions maintain binaries available via `apt-get install`.

The example below showcases installing PostGIS, a popular extension for geospatial data in Postgres.

<Accordion title="Example - Installing PostGIS">

1- Locating its source code or prebuilt binaries

The PostGIS repository can be found [here](https://github.com/postgis/postgis). Fortunately, prebuilt binaries are
available via `apt-get`. They can be found [here](https://postgis.net/documentation/getting_started/install_ubuntu/).

2- Compiling from source or download the prebuilt binaries inside the ParadeDB image

First, we retrieve a shell with root permissions in the ParadeDB image via:

```bash
docker exec -it --user root paradedb bash
```

Note: This command assumes that your ParadeDB container name is `paradedb`.

Then, update the PostgreSQL APT Repository via:

```bash
# Note: This command is only necessary if downloading the third party extension from APT
apt-get update

# Install PostGIS
apt-get install -y --no-install-recommends postgis postgresql-16-postgis-3
```

3- Installing the extension binary and any dependencies inside the ParadeDB image

Since we downloaded PostGIS via APT this step is not necessary. When downloading a prebuilt binary
manually via `curl` or `wget`, you will need to install the binary manually via:

```bash
apt-get install -y --no-install-recommends ./<package_name>.deb
```

4- Adding the extension to `shared_preload_libraries` in `postgresql.conf`, if applicable

Certain Postgres extension need to be added to `shared_preload_libraries` in the `postgresql.conf` file
to be loaded at Postgres startup. PostGIS is one of those extensions. This step is not necessary if the
extension you are installing does not explicitly require being installed in `shared_preload_libraries`.

You can locate the `postgresql.conf` file inside the ParadeDB image at `/var/lib/postgresql/data/postgresql.conf`. To
add PostGIS to it, simply use sed:

```bash
sed -i "/^shared_preload_libraries/s/'\([^']*\)'/'\1,postgis'/" /var/lib/postgresql/data/postgresql.conf
```

Then, restart Postgres for the change to take effect via:

```bash
pg_ctl restart -D /var/lib/postgresql/data
```

You can now close the Bash shell inside the ParadeDB image.

5- Creating the extension in a Postgres database inside the ParadeDB image to activate it

Finally, connect to ParadeDB over `psql` with your ParadeDB Postgres credentials:

```bash
psql -h localhost -U <myuser> -d <mydatabase> -p 5432 -W
```

You can enable PostGIS inside your ParadeDB Postgres database via:

```bash
CREATE EXTENSION postgis;
```

That's it!

</Accordion>

## Popular Third Party Extensions

Here is a shortlist of popular third party extensions which ParadeDB does not ship with by default:

- [PostGIS](https://github.com/postgis/postgis) - Spatial Database Extension for PostgreSQL (Note: We plan to eventually ship with PostGIS by default)
- [pg_partman](https://github.com/pgpartman/pg_partman) - PostgreSQL Partition Manager
- [pgaudit](https://github.com/pgaudit/pgaudit) - Open Source PostgreSQL Audit Logging
- [pgrepack](https://github.com/reorg/pg_repack) - Reorganize Tables in PostgreSQL Databases with Minimal Locks

There are many others. You can find a comprehensive list of extensions in [Pigsty](https://pigsty.io/docs/pgext/list/) or [PGXN](https://pgxn.org/).
